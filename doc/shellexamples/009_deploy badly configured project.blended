
bash-3.2$ cat $XDG_CONFIG/sous/config.yaml
StateLocation: /Users/jlester/.local/share/sous/state
Server: http://192.168.99.100:31334
SiblingURLs: {}
BuildStateDir: ""
Docker:
  RegistryHost: 192.168.99.100:5000
  DatabaseDriver: sqlite3_sous
  DatabaseConnection: file:dummy.db?mode=memory&cache=shared
User:
  Name: test
  Email: test@test.com
bash-3.2$ sous config
StateLocation: /Users/jlester/.local/share/sous/state
Server: http://192.168.99.100:31334
SiblingURLs: {}
BuildStateDir: ""
Docker:
  RegistryHost: 192.168.99.100:5000
  DatabaseDriver: sqlite3_sous
  DatabaseConnection: file:dummy.db?mode=memory&cache=shared
User:
  Name: test
  Email: test@test.com
bash-3.2$ git clone ssh://root@192.168.99.100:2222/repos/sous-demo
Cloning into 'sous-demo'...
Warning: Permanently added '[192.168.99.100]:2222' (ECDSA) to the list of known hosts.
bash-3.2$ cd sous-demo
bash-3.2$ git tag -am 'Release!' 0.0.25
bash-3.2$ git push --tags
Warning: Permanently added '[192.168.99.100]:2222' (ECDSA) to the list of known hosts.
To ssh://192.168.99.100:2222/repos/sous-demo
 * [new tag]         0.0.25 -> 0.0.25
bash-3.2$ 
bash-3.2$ # We will make this deploy fail by asking for too many resources.
bash-3.2$ sous manifest get > demo_manifest.yaml
bash-3.2$ cat demo_manifest.yaml
source: 192.168.99.100/2222/repos/sous-demo
owners: []
kind: http-service
deployments:
  left:
    resources:
      cpus: "30"
      memory: "100"
      ports: "1"
    numinstances: 1
    volumes: []
    version: 0.0.23
  right:
    resources:
      cpus: "30"
      memory: "100"
      ports: "1"
    numinstances: 1
    volumes: []
    version: 0.0.24

bash-3.2$ # Set CPUs to redonkulous.
bash-3.2$ sed 's/^      cpus.*$/      cpus: "9999999"/g' demo_manifest.yaml ><s.*$/      cpus: "9999999"/g' demo_manifest.yaml >                          demo_manifest_toobig.yaml
bash-3.2$ cat demo_manifest_toobig.yaml
source: 192.168.99.100/2222/repos/sous-demo
owners: []
kind: http-service
deployments:
  left:
    resources:
      cpus: "9999999"
      memory: "100"
      ports: "1"
    numinstances: 1
    volumes: []
    version: 0.0.23
  right:
    resources:
      cpus: "9999999"
      memory: "100"
      ports: "1"
    numinstances: 1
    volumes: []
    version: 0.0.24

bash-3.2$ sous manifest set < demo_manifest_toobig.yaml

bash-3.2$ sous build
  (Sous)> running docker build --build-arg APP_VERSION=0.0.25 --build-arg APP_REVISION=b27658803a61a9fe538ef6ac063e9eddc454277f .
  (Sous)>   Sending build context to Docker daemon 127.5 kB
  (Sous)>   Step 1/6 : FROM golang:1.7
  (Sous)>    ---> 7afbc2b03b9e
  (Sous)>   Step 2/6 : ARG APP_VERSION=0.0.0
  (Sous)>    ---> Using cache
  (Sous)>    ---> 35e22020cb15
  (Sous)>   Step 3/6 : ARG APP_REVISION=unknown
  (Sous)>    ---> Using cache
  (Sous)>    ---> ed01966d610b
  (Sous)>   Step 4/6 : COPY . /go/src/github.com/opentable/sous-demo
  (Sous)>    ---> e2c30d352933
  (Sous)>   Removing intermediate container b3cf28a7a1ba
  (Sous)>   Step 5/6 : RUN cd src/github.com/opentable/sous-demo;   go build -ldflags     "-X 'main.CustomString=$(cat customstring)' -X 'main.Version=${APP_VERSION}' -X 'main.Revision=${APP_REVISION}'" .
  (Sous)>    ---> Running in c79d2ee6a416
  (Sous)>    ---> 5f602e173aa4
  (Sous)>   Removing intermediate container c79d2ee6a416
  (Sous)>   Step 6/6 : CMD sh -c /go/src/github.com/opentable/sous-demo/sous-demo
  (Sous)>    ---> Running in a021cf58f9a4
  (Sous)>    ---> 18f6069abd1e
  (Sous)>   Removing intermediate container a021cf58f9a4
  (Sous)>   Successfully built 18f6069abd1e
  (Sous)> running docker build -t 192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo:0.0.25 -t 192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo:b27658803a61a9fe538ef6ac063e9eddc454277f -
  (Sous)>   Sending build context to Docker daemon 2.048 kB
  (Sous)>   Step 1/2 : FROM 18f6069abd1e
  (Sous)>    ---> 18f6069abd1e
  (Sous)>   Step 2/2 : LABEL com.opentable.sous.repo_offset "" com.opentable.sous.repo_url "192.168.99.100/2222/repos/sous-demo" com.opentable.sous.revision "b27658803a61a9fe538ef6ac063e9eddc454277f" com.opentable.sous.version "0.0.25" com.opentable.sous.advisories "dirty workspace"
  (Sous)>    ---> Running in 5e88244b38e1
  (Sous)>    ---> c14cca268829
  (Sous)>   Removing intermediate container 5e88244b38e1
  (Sous)>   Successfully built c14cca268829
warn: build may not be deployable in all clusters due to advisories:
  dirty workspace
  (Sous)> running docker push 192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo:0.0.25
  (Sous)>   The push refers to a repository [192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo]
  (Sous)>   9a246f27c310: Preparing
  (Sous)>   9ebed5ea2e93: Preparing
  (Sous)>   8eb1c995f8b9: Preparing
  (Sous)>   677062ced7d3: Preparing
  (Sous)>   d23a95ba38e5: Preparing
  (Sous)>   f4d2be23d596: Preparing
  (Sous)>   30339f20ced0: Preparing
  (Sous)>   0eb22bfb707d: Preparing
  (Sous)>   a2ae92ffcd29: Preparing
  (Sous)>   f4d2be23d596: Waiting
  (Sous)>   30339f20ced0: Waiting
  (Sous)>   0eb22bfb707d: Waiting
  (Sous)>   a2ae92ffcd29: Waiting
  (Sous)>   d23a95ba38e5: Layer already exists
  (Sous)>   8eb1c995f8b9: Layer already exists
  (Sous)>   677062ced7d3: Layer already exists
  (Sous)>   f4d2be23d596: Layer already exists
  (Sous)>   30339f20ced0: Layer already exists
  (Sous)>   0eb22bfb707d: Layer already exists
  (Sous)>   a2ae92ffcd29: Layer already exists
  (Sous)>   9ebed5ea2e93: Pushed
  (Sous)>   9a246f27c310: Pushed
  (Sous)>   0.0.25: digest: sha256:7309912f59dbe460659c7d62461039a1a9f6584aff1efa33febcf3dba46383c9 size: 2212
  (Sous)> running docker push 192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo:b27658803a61a9fe538ef6ac063e9eddc454277f
  (Sous)>   The push refers to a repository [192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo]
  (Sous)>   9a246f27c310: Preparing
  (Sous)>   9ebed5ea2e93: Preparing
  (Sous)>   8eb1c995f8b9: Preparing
  (Sous)>   677062ced7d3: Preparing
  (Sous)>   d23a95ba38e5: Preparing
  (Sous)>   f4d2be23d596: Preparing
  (Sous)>   30339f20ced0: Preparing
  (Sous)>   0eb22bfb707d: Preparing
  (Sous)>   a2ae92ffcd29: Preparing
  (Sous)>   30339f20ced0: Waiting
  (Sous)>   0eb22bfb707d: Waiting
  (Sous)>   a2ae92ffcd29: Waiting
  (Sous)>   f4d2be23d596: Waiting
  (Sous)>   d23a95ba38e5: Layer already exists
  (Sous)>   9ebed5ea2e93: Layer already exists
  (Sous)>   9a246f27c310: Layer already exists
  (Sous)>   8eb1c995f8b9: Layer already exists
  (Sous)>   677062ced7d3: Layer already exists
  (Sous)>   0eb22bfb707d: Layer already exists
  (Sous)>   30339f20ced0: Layer already exists
  (Sous)>   a2ae92ffcd29: Layer already exists
  (Sous)>   f4d2be23d596: Layer already exists
  (Sous)>   b27658803a61a9fe538ef6ac063e9eddc454277f: digest: sha256:7309912f59dbe460659c7d62461039a1a9f6584aff1efa33febcf3dba46383c9 size: 2212
  (Sous)> [recording "192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo:0.0.25" as the docker name for "192.168.99.100/2222/repos/sous-demo,0.0.25+b27658803a61a9fe538ef6ac063e9eddc454277f"]
Built: "192.168.99.100:5000/192.168.99.100/2222/repos/sous-demo:0.0.25"
Advisories:
  dirty workspace
Elapsed: 2.708225629s
bash-3.2$ sous deploy -d -v -cluster right
vomit: 2017/03/06 17:22:44 graph.go:298: Verbose debugging enabled
debug: 2017/03/06 17:22:44 graph.go:299: Regular debugging enabled
debug: 2017/03/06 17:22:44 graph.go:469: Using server at http://192.168.99.100:31334
debug: 2017/03/06 17:22:44 httpclient.go:203: Sending GET "http://192.168.99.100:31334/defs"
vomit: 2017/03/06 17:22:44 httpclient.go:279: Client -> GET "http://192.168.99.100:31334/defs" <empty request body>
debug: 2017/03/06 17:22:44 httpclient.go:239: Received "GET http://192.168.99.100:31334/defs" -> 200
vomit: 2017/03/06 17:22:44 httpclient.go:266: Client <- GET "http://192.168.99.100:31334/defs"
vomit: 2017/03/06 17:22:44 httpclient.go:272: {"DockerRepo":"192.168.99.100:5000","Clusters":{"left":{"Name":"left","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"left"},"AllowedAdvisories":["ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"right":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]}},"EnvVars":[{"Name":"PORT0","Desc":"The primary TCP port your app should listen on.","Scope":"","Type":"int"}],"Resources":[{"Name":"memory","Type":"Float","Default":"","Optional":false},{"Name":"cpu","Type":"Float","Default":"","Optional":false},{"Name":"ports","Type":"Integer","Default":"","Optional":false}],"Metadata":[]}
vomit: 2017/03/06 17:22:44 httpclient.go:274: Read 1142 bytes, result: EOF
debug: 2017/03/06 17:22:44 httpclient.go:203: Sending GET "http://192.168.99.100:31334/gdm"
vomit: 2017/03/06 17:22:44 httpclient.go:279: Client -> GET "http://192.168.99.100:31334/gdm" <empty request body>
  (Sous)> git version
> git version 2.10.0

  (Sous)> git config -l
> credential.helper=osxkeychain
core.sshcommand=/tmp/sous-work/home/bin/ssh_wrapper
user.name=Integration Tester
user.email=itester@opentable.com
push.default=simple
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
core.ignorecase=true
core.precomposeunicode=true
remote.origin.url=ssh://root@192.168.99.100:2222/repos/sous-demo
remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
branch.master.remote=origin
branch.master.merge=refs/heads/master

  (Sous)> git rev-parse --show-toplevel
> /private/var/folders/sp/wllf_wh92p725fl4vz92mrn16vkfds/T/sous-cli-testing785947153/sous-demo/sous-demo/sous-demo

  (Sous)> git remote -v
> origin	ssh://root@192.168.99.100:2222/repos/sous-demo (fetch)
origin	ssh://root@192.168.99.100:2222/repos/sous-demo (push)

  (Sous)> git ls-files
> Dockerfile
README.md
customstring
main.go
set-version.sh
templates/index.html.tmpl
vendor/golang.org/x/tools/LICENSE
vendor/golang.org/x/tools/PATENTS
vendor/golang.org/x/tools/godoc/vfs/emptyvfs.go
vendor/golang.org/x/tools/godoc/vfs/mapfs/mapfs.go
vendor/golang.org/x/tools/godoc/vfs/namespace.go
vendor/golang.org/x/tools/godoc/vfs/os.go
vendor/golang.org/x/tools/godoc/vfs/vfs.go
vendor/vendor.json
vfs_templates.go

  (Sous)> git ls-files --others --exclude-standard
> demo_manifest.yaml
demo_manifest_toobig.yaml

  (Sous)> git log --date-order --tags --simplify-by-decoration --pretty=format:%H %aI %D
> b27658803a61a9fe538ef6ac063e9eddc454277f 2017-01-25T14:40:24-08:00 HEAD -> master, tag: 0.0.25, tag: 0.0.24, tag: 0.0.23, origin/master, origin/HEAD
f921f218e62722aed85e47696010660dbfa10ab0 2017-01-11T10:57:00-08:00 
  (Sous)> git ls-files --modified
> 
  (Sous)> git describe --tags --abbrev=0 --always
> 0.0.25

  (Sous)> git rev-list -n 1 HEAD
> b27658803a61a9fe538ef6ac063e9eddc454277f

  (Sous)> git rev-parse --abbrev-ref HEAD
> master

  (Sous)> git rev-list -n 1 0.0.25
> b27658803a61a9fe538ef6ac063e9eddc454277f

debug: 2017/03/06 17:22:44 httpclient.go:239: Received "GET http://192.168.99.100:31334/gdm" -> 200
vomit: 2017/03/06 17:22:44 httpclient.go:266: Client <- GET "http://192.168.99.100:31334/gdm"
vomit: 2017/03/06 17:22:44 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"left"},"NumInstances":1,"ClusterName":"left","Cluster":{"Name":"left","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"left"},"AllowedAdvisories":["ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.23"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"left","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"left","Cluster":{"Name":"left","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"left"},"AllowedAdvisories":["ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}]}
vomit: 2017/03/06 17:22:44 httpclient.go:274: Read 3048 bytes, result: EOF
debug: 2017/03/06 17:22:44 http_state_manager.go:61: Writing state via HTTP.
vomit: 2017/03/06 17:22:44 deployment_diff.go:130: Computing diff from:
    192.168.99.100/2222/repos/sous-demo,0.0.23 @ &{left singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:left] [ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:9999999 memory:100 ports:1] : map[CLUSTER_NAME:left] []
    192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:9999999 memory:100 ports:1] : map[CLUSTER_NAME:right] []
    192.168.99.100/2222/repos/sous-server,0.0.2 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:0.1 memory:100 ports:1] : map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm CLUSTER_NAME:right SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] []
    192.168.99.100/2222/repos/sous-server,0.0.2 @ &{left singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:left] [ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:0.1 memory:100] : map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:left] []
debug: 2017/03/06 17:22:44 http_state_manager.go:78: Processing diffs...
vomit: 2017/03/06 17:22:44 deployment_diff.go:149: Computing diff to:
    192.168.99.100/2222/repos/sous-server,0.0.2 @ &{left singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:left] [ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:0.1 memory:100] : map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:left] []
    192.168.99.100/2222/repos/sous-server,0.0.2 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:0.1 memory:100 ports:1] : map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:right] []
    192.168.99.100/2222/repos/sous-demo,0.0.25 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:9999999] : map[CLUSTER_NAME:right] []
    192.168.99.100/2222/repos/sous-demo,0.0.23 @ &{left singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:left] [ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:9999999 memory:100 ports:1] : map[CLUSTER_NAME:left] []
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-server" "left"}
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[CLUSTER_NAME:left GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] ?= map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:left]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[CLUSTER_NAME:left GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] == map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:left] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[ports:1 cpus:0.1 memory:100] ?= map[ports:1 cpus:0.1 memory:100]
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-server" "right"}
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[CLUSTER_NAME:right GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] ?= map[SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm CLUSTER_NAME:right]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:right] == map[SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm CLUSTER_NAME:right] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[cpus:0.1 memory:100 ports:1] ?= map[cpus:0.1 memory:100 ports:1]
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-server" "left"}
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:left] ?= map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:left]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:left GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm] == map[CLUSTER_NAME:left GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[ports:1 cpus:0.1 memory:100] ?= map[ports:1 cpus:0.1 memory:100]
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-demo" "right"}
debug: 2017/03/06 17:22:44 diff_concentrator.go:273: For 192.168.99.100/2222/repos/sous-server, have 1 clusters, waiting for 2
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-server" "right"}
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:right] ?= map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:right]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:right] == map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 CLUSTER_NAME:right] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[cpus:0.1 memory:100 ports:1] ?= map[cpus:0.1 memory:100 ports:1]
debug: 2017/03/06 17:22:44 diff_concentrator.go:273: For 192.168.99.100/2222/repos/sous-server, have 2 clusters, waiting for 2
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[CLUSTER_NAME:right] ?= map[CLUSTER_NAME:right]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[CLUSTER_NAME:right] == map[CLUSTER_NAME:right] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[ports:1 cpus:9999999 memory:100] ?= map[cpus:9999999 memory:100 ports:1]
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000 GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm] ?= map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] == map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[cpus:0.1 memory:100 ports:1] ?= map[ports:1 cpus:0.1 memory:100]
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] ?= map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000]
debug: 2017/03/06 17:22:44 deployment_diff.go:169: Modified deployment: {"192.168.99.100/2222/repos/sous-demo" "right"} ([]string{"source id; this: \"192.168.99.100/2222/repos/sous-demo,0.0.25\"; other: \"192.168.99.100/2222/repos/sous-demo,0.0.24\""})
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] == map[GDM_REPO:ssh://root@192.168.99.100:2222/repos/gdm SOUS_DOCKER_REGISTRY_HOST:192.168.99.100:5000] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[memory:100 ports:1 cpus:0.1] ?= map[ports:1 cpus:0.1 memory:100]
debug: 2017/03/06 17:22:44 diff_concentrator.go:320: Concentrating modification of {"192.168.99.100/2222/repos/sous-demo" "right"}
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-demo" "right"}
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-demo" "left"}
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[CLUSTER_NAME:right] ?= map[CLUSTER_NAME:right]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[CLUSTER_NAME:right] == map[CLUSTER_NAME:right] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[ports:1 cpus:9999999 memory:100] ?= map[cpus:9999999 memory:100 ports:1]
debug: 2017/03/06 17:22:44 diff_concentrator.go:111: Adding modification to deployment bundle ({"192.168.99.100/2222/repos/sous-demo" "right"})
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[CLUSTER_NAME:left] ?= map[CLUSTER_NAME:left]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[CLUSTER_NAME:left] == map[CLUSTER_NAME:left] !
debug: 2017/03/06 17:22:44 diff_concentrator.go:112: Diffs for {"192.168.99.100/2222/repos/sous-demo" "right"}: []string{"source id; this: \"192.168.99.100/2222/repos/sous-demo,0.0.25\"; other: \"192.168.99.100/2222/repos/sous-demo,0.0.24\""}
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[ports:1 cpus:9999999 memory:100] ?= map[cpus:9999999 memory:100 ports:1]
debug: 2017/03/06 17:22:44 diff_concentrator.go:273: For 192.168.99.100/2222/repos/sous-demo, have 1 clusters, waiting for 2
debug: 2017/03/06 17:22:44 deployment.go:175: Comparing two versions of deployment {"192.168.99.100/2222/repos/sous-demo" "left"}
vomit: 2017/03/06 17:22:44 deploy_config.go:171: Envs: map[CLUSTER_NAME:left] ?= map[CLUSTER_NAME:left]
vomit: 2017/03/06 17:22:44 deploy_config.go:183: Envs: map[CLUSTER_NAME:left] == map[CLUSTER_NAME:left] !
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[cpus:9999999 memory:100 ports:1] ?= map[cpus:9999999 memory:100 ports:1]
debug: 2017/03/06 17:22:44 diff_concentrator.go:273: For 192.168.99.100/2222/repos/sous-demo, have 2 clusters, waiting for 2
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[cpus:9999999 memory:100 ports:1] ?= map[cpus:9999999 memory:100 ports:1]
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[memory:100 ports:1 cpus:9999999] ?= map[memory:100 ports:1 cpus:9999999]
debug: 2017/03/06 17:22:44 http_state_manager.go:191: Modifying "192.168.99.100/2222/repos/sous-demo"
debug: 2017/03/06 17:22:44 httpclient.go:176: Getting existing resource from http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo
debug: 2017/03/06 17:22:44 httpclient.go:203: Sending GET "http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo"
vomit: 2017/03/06 17:22:44 httpclient.go:279: Client -> GET "http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo" <empty request body>
debug: 2017/03/06 17:22:44 httpclient.go:239: Received "GET http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo" -> 200
vomit: 2017/03/06 17:22:44 httpclient.go:266: Client <- GET "http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo"
vomit: 2017/03/06 17:22:44 httpclient.go:272: {"Source":"192.168.99.100/2222/repos/sous-demo","Flavor":"","Owners":[],"Kind":"http-service","Deployments":{"left":{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":[],"Env":{},"NumInstances":1,"Volumes":[],"Version":"0.0.23"},"right":{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":[],"Env":{},"NumInstances":1,"Volumes":[],"Version":"0.0.24"}}}
vomit: 2017/03/06 17:22:44 httpclient.go:274: Read 410 bytes, result: EOF
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[cpus:9999999 memory:100 ports:1] ?= map[cpus:9999999 memory:100 ports:1]
vomit: 2017/03/06 17:22:44 resources.go:139: Comparing resources: map[cpus:9999999 memory:100 ports:1] ?= map[ports:1 cpus:9999999 memory:100]
debug: 2017/03/06 17:22:44 httpclient.go:203: Sending PUT "http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo"
debug: 2017/03/06 17:22:44 httpclient.go:211:   body: {"Source":"192.168.99.100/2222/repos/sous-demo","Flavor":"","Owners":[],"Kind":"http-service","Deployments":{"left":{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":[],"Env":{},"NumInstances":1,"Volumes":[],"Version":"0.0.23"},"right":{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":[],"Env":{},"NumInstances":1,"Volumes":[],"Version":"0.0.25"}}}
vomit: 2017/03/06 17:22:44 httpclient.go:266: Client -> PUT "http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo"
vomit: 2017/03/06 17:22:44 httpclient.go:272: {"Source":"192.168.99.100/2222/repos/sous-demo","Flavor":"","Owners":[],"Kind":"http-service","Deployments":{"left":{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":[],"Env":{},"NumInstances":1,"Volumes":[],"Version":"0.0.23"},"right":{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":[],"Env":{},"NumInstances":1,"Volumes":[],"Version":"0.0.25"}}}
vomit: 2017/03/06 17:22:44 httpclient.go:274: Sent 410 bytes, result: EOF
debug: 2017/03/06 17:22:44 httpclient.go:239: Received "PUT http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo" -> 200
vomit: 2017/03/06 17:22:44 httpclient.go:266: Client <- PUT "http://192.168.99.100:31334/manifest?flavor=&offset=&repo=192.168.99.100%2F2222%2Frepos%2Fsous-demo"
vomit: 2017/03/06 17:22:44 httpclient.go:269: 
vomit: 2017/03/06 17:22:44 httpclient.go:270: (problem compacting JSON for logging: unexpected end of JSON input)
vomit: 2017/03/06 17:22:44 httpclient.go:274: Read 0 bytes, result: <nil>
Updated global manifest.
Waiting for server to report that deploy has stabilized...debug: 2017/03/06 17:22:44 graph.go:488: Building StatusPoller...
debug: 2017/03/06 17:22:44 graph.go:494: ...looks good...
debug: 2017/03/06 17:22:44 httpclient.go:203: Sending GET "http://192.168.99.100:31334/servers"
vomit: 2017/03/06 17:22:44 httpclient.go:279: Client -> GET "http://192.168.99.100:31334/servers" <empty request body>
debug: 2017/03/06 17:22:44 httpclient.go:239: Received "GET http://192.168.99.100:31334/servers" -> 200
vomit: 2017/03/06 17:22:44 httpclient.go:266: Client <- GET "http://192.168.99.100:31334/servers"
vomit: 2017/03/06 17:22:44 httpclient.go:272: {"Servers":[{"ClusterName":"left","URL":"http://192.168.99.100:31334"},{"ClusterName":"right","URL":"http://192.168.99.100:31696"}]}
vomit: 2017/03/06 17:22:44 httpclient.go:274: Read 133 bytes, result: EOF
debug: 2017/03/06 17:22:44 httpclient.go:203: Sending GET "http://192.168.99.100:31334/gdm"
vomit: 2017/03/06 17:22:44 httpclient.go:279: Client -> GET "http://192.168.99.100:31334/gdm" <empty request body>
debug: 2017/03/06 17:22:45 httpclient.go:239: Received "GET http://192.168.99.100:31334/gdm" -> 200
vomit: 2017/03/06 17:22:45 httpclient.go:266: Client <- GET "http://192.168.99.100:31334/gdm"
vomit: 2017/03/06 17:22:45 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"left"},"NumInstances":1,"ClusterName":"left","Cluster":{"Name":"left","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"left"},"AllowedAdvisories":["ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.23"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.25"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"left","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"left","Cluster":{"Name":"left","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"left"},"AllowedAdvisories":["ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}]}
vomit: 2017/03/06 17:22:45 httpclient.go:274: Read 3048 bytes, result: EOF
vomit: 2017/03/06 17:22:45 status_poller.go:194: left not requested for polling
debug: 2017/03/06 17:22:45 status_poller.go:204: Starting poller against {right http://192.168.99.100:31696}
debug: 2017/03/06 17:22:45 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotPolled
vomit: 2017/03/06 17:22:45 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotPolled
debug: 2017/03/06 17:22:45 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:45 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:45 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:45 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:45 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:45 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:45 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42024a520), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008eea0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008f9e0)}}
debug: 2017/03/06 17:22:45 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:45 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42050eff0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:45 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:45 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:45 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:45 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:45 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:45 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:45 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:45 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:45 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:45 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:45 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:45 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:45 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:45 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4203562a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202edb00), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420354000)}}
debug: 2017/03/06 17:22:45 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:45 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204353b0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:45 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:45 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:45 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:45 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:45 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:45 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:45 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:46 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:46 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:46 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:46 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:46 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:46 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:46 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42034c740), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420305b00), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420362000)}}
debug: 2017/03/06 17:22:46 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:46 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041b8b0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:46 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:46 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:46 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:46 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:46 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:46 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:46 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:46 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:46 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:46 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:46 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:46 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:46 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:46 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420356b80), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420354900), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420354d80)}}
debug: 2017/03/06 17:22:46 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:46 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435810), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:46 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:46 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:46 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:46 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:46 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:46 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:46 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:47 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:47 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:47 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:47 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:47 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:47 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:47 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42034d000), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420362900), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420362d80)}}
debug: 2017/03/06 17:22:47 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:47 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041bc20), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:47 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:47 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:47 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:47 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:47 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:47 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:47 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:47 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:47 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:47 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:47 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:47 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:47 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:47 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420357440), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420355680), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420355b00)}}
debug: 2017/03/06 17:22:47 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:47 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435bd0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:47 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:47 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:47 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:47 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:47 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:47 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:47 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:48 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:48 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:48 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:48 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:48 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:48 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:48 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42034d8c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420363b00), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420363680)}}
debug: 2017/03/06 17:22:48 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:48 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420402cd0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:48 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:48 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:48 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:48 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:48 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:48 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:48 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:48 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:48 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:48 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:48 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:48 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:48 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:48 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420357d00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052a480), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052a900)}}
debug: 2017/03/06 17:22:48 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:48 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435f90), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:48 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:48 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:48 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:48 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:48 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:48 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:48 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:49 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:49 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:49 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:49 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:49 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:49 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:49 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420548180), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420538480), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420538900)}}
debug: 2017/03/06 17:22:49 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:49 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204034f0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:49 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:49 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:49 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:49 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:49 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:49 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:49 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:49 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:49 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:49 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:49 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:49 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:49 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:49 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4205525c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052b200), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052b680)}}
debug: 2017/03/06 17:22:49 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:49 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053e410), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:49 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:49 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:49 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:49 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:49 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:49 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:49 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:50 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:50 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:50 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:50 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:50 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:50 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:50 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204367c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ce240), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ce6c0)}}
debug: 2017/03/06 17:22:50 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:50 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041a6e0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:50 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:50 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:50 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:50 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:50 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:50 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:50 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:50 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:50 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:50 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:50 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:50 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:50 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:50 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420496860), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203fa480), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203fa900)}}
debug: 2017/03/06 17:22:50 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:50 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420434820), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:50 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:50 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:50 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:50 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:50 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:50 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:50 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:51 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:51 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:51 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:51 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:51 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:51 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:51 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204372e0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204cefc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204cfd40)}}
debug: 2017/03/06 17:22:51 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:51 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041ab90), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:51 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:51 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:51 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:51 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:51 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:51 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:51 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:51 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:51 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:51 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:51 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:51 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:51 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:51 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420497180), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203fbc20), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008e480)}}
debug: 2017/03/06 17:22:51 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:51 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420434cd0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:51 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:51 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:51 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:51 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:51 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:51 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:51 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:52 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:52 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:52 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:52 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:52 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:52 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:52 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420437c00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052a000), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052a480)}}
debug: 2017/03/06 17:22:52 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:52 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041af50), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:52 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:52 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:52 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:52 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:52 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:52 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:52 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:52 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:52 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:52 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:52 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:52 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:52 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:52 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420497b40), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008fc20), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008f0e0)}}
debug: 2017/03/06 17:22:52 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:52 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420434ff0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:52 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:52 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:52 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:52 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:52 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:52 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:52 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:53 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:53 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:53 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:53 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:53 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:53 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:53 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201c0580), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052ad80), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42052bb00)}}
debug: 2017/03/06 17:22:53 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:53 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041b360), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:53 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:53 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:53 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:53 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:53 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:53 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:53 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:53 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:53 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:53 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:53 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:53 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:53 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:53 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42019ec60), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42036a7e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42036ac60)}}
debug: 2017/03/06 17:22:53 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:53 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435450), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:53 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:53 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:53 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:53 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:53 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:53 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:53 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:54 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:54 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:54 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:54 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:54 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:54 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:54 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420552740), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420572240), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4205726c0)}}
debug: 2017/03/06 17:22:54 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:54 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053e0a0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:54 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:54 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:54 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:54 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:54 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:54 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:54 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:54 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:54 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:54 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:54 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:54 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:54 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:54 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42019fa00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42036b560), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42036b9e0)}}
debug: 2017/03/06 17:22:54 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:54 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204357c0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:54 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:54 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:54 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:54 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:54 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:54 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:54 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:55 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:55 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:55 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:55 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:55 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:55 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:55 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420553060), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420572fc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420573440)}}
debug: 2017/03/06 17:22:55 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:55 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053e4b0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:55 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:55 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:55 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:55 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:55 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:55 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:55 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:55 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:55 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:55 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:55 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:55 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:55 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:55 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420410640), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4205507e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420550c60)}}
debug: 2017/03/06 17:22:55 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:55 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435c20), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:55 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:55 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:55 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:55 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:55 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:55 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:55 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:56 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:56 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:56 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:56 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:56 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:56 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:56 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420553920), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420573d40), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42014a240)}}
debug: 2017/03/06 17:22:56 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:56 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053e870), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:56 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:56 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:56 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:56 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:56 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:56 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:56 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:56 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:56 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:56 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:56 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:56 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:56 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:56 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420410f00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420551560), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4205519e0)}}
debug: 2017/03/06 17:22:56 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:56 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435f40), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:56 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:56 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:56 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:56 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:56 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:56 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:56 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:57 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:57 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:57 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:57 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:57 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:57 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:57 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4205481e0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42014afc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42014ab40)}}
debug: 2017/03/06 17:22:57 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:57 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053ecd0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:57 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:57 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:57 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:57 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:57 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:57 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:57 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:57 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:57 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:57 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:57 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:57 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:57 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:57 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204117c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420522360), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4205227e0)}}
debug: 2017/03/06 17:22:57 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:57 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a0500), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:57 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:57 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:57 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:57 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:57 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:57 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:57 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:58 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:58 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:58 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:58 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:58 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:58 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:58 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420411fe0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4205230e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420523560)}}
debug: 2017/03/06 17:22:58 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:58 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a07d0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:58 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:58 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:58 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:58 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:58 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:58 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:58 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:58 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:58 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:58 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:58 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:58 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:58 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:58 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420548b80), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42014b8c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42014bd40)}}
debug: 2017/03/06 17:22:58 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:58 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053f0e0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:58 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:58 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:58 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:58 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:58 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:58 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:58 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:59 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:59 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:59 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:59 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:59 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:59 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:59 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420199d00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420523e60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201fa360)}}
debug: 2017/03/06 17:22:59 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:59 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a0b90), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:59 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:59 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:59 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:59 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:59 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:59 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:59 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:22:59 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:59 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:22:59 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:22:59 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:22:59 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:22:59 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:22:59 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201c0f40), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420538480), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420538900)}}
debug: 2017/03/06 17:22:59 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:22:59 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041b7c0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:22:59 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:22:59 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:22:59 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:22:59 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:59 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:22:59 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:22:59 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:00 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:00 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:00 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:00 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:00 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:00 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:00 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420549440), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42045e6c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42045eb40)}}
debug: 2017/03/06 17:23:00 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:00 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053f400), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:00 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:00 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:00 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:00 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:00 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:00 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:00 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:00 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:00 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:00 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:00 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:00 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:00 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:00 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201c1840), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420539440), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4205398c0)}}
debug: 2017/03/06 17:23:00 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:00 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041bb30), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:00 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:00 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:00 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:00 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:00 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:00 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:00 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:01 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:01 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:01 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:01 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:01 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:01 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:01 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420549d00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42045f440), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42045f8c0)}}
debug: 2017/03/06 17:23:01 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:01 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053f7c0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:01 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:01 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:01 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:01 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:01 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:01 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:01 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:01 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:01 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:01 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:01 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:01 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:01 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:01 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42024a740), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420340240), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203406c0)}}
debug: 2017/03/06 17:23:01 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:01 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053fb80), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:01 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:01 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:01 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:01 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:01 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:01 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:01 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:02 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:02 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:02 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:02 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:02 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:02 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:02 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204982c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202be240), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202be6c0)}}
debug: 2017/03/06 17:23:02 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:02 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041bf90), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:02 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:02 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:02 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:02 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:02 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:02 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:02 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:02 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:02 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:02 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:02 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:02 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:02 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:02 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42024b640), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420340fc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420341440)}}
debug: 2017/03/06 17:23:02 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:02 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42053ff40), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:02 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:02 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:02 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:02 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:02 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:02 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:02 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:03 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:03 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:03 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:03 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:03 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:03 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:03 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420498b80), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202befc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202bf440)}}
debug: 2017/03/06 17:23:03 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:03 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005ca00), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:03 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:03 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:03 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:03 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:03 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:03 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:03 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:03 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:03 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:03 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:03 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:03 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:03 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:03 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42012a1c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420341d40), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420128240)}}
debug: 2017/03/06 17:23:03 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:03 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420403400), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:03 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:03 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:03 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:03 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:03 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:03 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:03 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:04 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:04 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:04 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:04 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:04 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:04 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:04 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420499440), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202bfd40), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420328240)}}
debug: 2017/03/06 17:23:04 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:04 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005d6d0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:04 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:04 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:04 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:04 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:04 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:04 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:04 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:04 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:04 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:04 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:04 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:04 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:04 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:04 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4200d5120), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201fac60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201fb0e0)}}
debug: 2017/03/06 17:23:04 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:04 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a0f50), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:04 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:04 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:04 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:04 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:04 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:04 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:04 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:05 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:05 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:05 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:05 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:05 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:05 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:05 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42012aa80), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420128b40), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420128fc0)}}
debug: 2017/03/06 17:23:05 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:05 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204037c0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:05 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:05 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:05 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:05 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:05 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:05 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:05 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:05 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:05 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:05 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:05 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:05 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:05 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:05 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420499d00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420328fc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420328b40)}}
debug: 2017/03/06 17:23:05 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:05 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005da90), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:05 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:05 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:05 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:05 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:05 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:05 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:05 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:06 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:06 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:06 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:06 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:06 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:06 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:06 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4200d5fa0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201fb9e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201fbe60)}}
debug: 2017/03/06 17:23:06 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:06 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a1310), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:06 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:06 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:06 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:06 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:06 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:06 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:06 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:06 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:06 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:06 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:06 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:06 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:06 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:06 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4202785c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203298c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420329d40)}}
debug: 2017/03/06 17:23:06 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:06 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005ddb0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:06 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:06 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:06 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:06 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:06 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:06 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:06 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:07 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:07 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:07 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:07 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:07 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:07 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:07 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201d08a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201cec60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201ce7e0)}}
debug: 2017/03/06 17:23:07 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:07 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a16d0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:07 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:07 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:07 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:07 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:07 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:07 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:07 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:07 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:07 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:07 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:07 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:07 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:07 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:07 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201d10c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201cf560), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201cf9e0)}}
debug: 2017/03/06 17:23:07 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:07 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a1a40), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:07 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:07 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:07 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:07 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:07 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:07 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:07 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:08 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:08 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:08 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:08 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:08 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:08 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:08 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420278f20), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027a6c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027ab40)}}
debug: 2017/03/06 17:23:08 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:08 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047a730), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:08 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:08 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:08 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:08 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:08 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:08 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:08 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:08 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:08 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:08 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:08 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:08 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:08 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:08 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201d1980), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ae360), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ae7e0)}}
debug: 2017/03/06 17:23:08 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:08 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a1ea0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:08 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:08 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:08 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:08 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:08 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:08 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:08 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:09 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:09 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:09 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:09 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:09 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:09 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:09 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4202341a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204af0e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204af560)}}
debug: 2017/03/06 17:23:09 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:09 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c8230), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:09 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:09 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:09 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:09 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:09 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:09 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:09 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:09 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:09 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:09 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:09 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:09 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:09 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:09 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420279880), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027b440), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027b8c0)}}
debug: 2017/03/06 17:23:09 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:09 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047aaa0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:09 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:09 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:09 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:09 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:09 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:09 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:09 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:10 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:10 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:10 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:10 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:10 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:10 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:10 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420234a60), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204afe60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202f0360)}}
debug: 2017/03/06 17:23:10 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:10 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c8690), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:10 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:10 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:10 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:10 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:10 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:10 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:10 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:10 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:10 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:10 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:10 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:10 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:10 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:10 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4202fc140), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42023a240), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42023a6c0)}}
debug: 2017/03/06 17:23:10 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:10 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047ae60), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:10 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:10 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:10 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:10 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:10 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:10 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:10 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:11 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:11 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:11 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:11 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:11 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:11 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:11 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420235320), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202f0c60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202f10e0)}}
debug: 2017/03/06 17:23:11 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:11 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c89b0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:11 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:11 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:11 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:11 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:11 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:11 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:11 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:11 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:11 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:11 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:11 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:11 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:11 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:11 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4202fca00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42023afc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42023b440)}}
debug: 2017/03/06 17:23:11 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:11 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047b220), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:11 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:11 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:11 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:11 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:11 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:11 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:11 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:12 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:12 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:12 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:12 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:12 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:12 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:12 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420235be0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202f19e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202f1e60)}}
debug: 2017/03/06 17:23:12 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:12 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c8d70), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:12 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:12 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:12 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:12 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:12 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:12 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:12 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:12 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:12 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:12 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:12 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:12 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:12 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:12 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4202fd2c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42023bd40), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202dc240)}}
debug: 2017/03/06 17:23:12 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:12 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047b5e0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:12 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:12 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:12 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:12 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:12 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:12 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:12 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:13 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:13 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:13 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:13 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:13 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:13 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:13 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4203044a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d07e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d0c60)}}
debug: 2017/03/06 17:23:13 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:13 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c91d0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:13 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:13 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:13 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:13 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:13 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:13 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:13 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:13 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:13 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:13 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:13 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:13 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:13 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:13 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4202fdb80), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202dcb40), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202dcfc0)}}
debug: 2017/03/06 17:23:13 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:13 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047b9a0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:13 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:13 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:13 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:13 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:13 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:13 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:13 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:14 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:14 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:14 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:14 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:14 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:14 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:14 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420304d60), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d1560), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d19e0)}}
debug: 2017/03/06 17:23:14 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:14 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c9590), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:14 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:14 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:14 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:14 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:14 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:14 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:14 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:14 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:14 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:14 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:14 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:14 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:14 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:14 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420188440), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202dd8c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202ddd40)}}
debug: 2017/03/06 17:23:14 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:14 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047bd60), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:14 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:14 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:14 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:14 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:14 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:14 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:14 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:15 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:15 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:15 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:15 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:15 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:15 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:15 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420305620), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201807e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420180360)}}
debug: 2017/03/06 17:23:15 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:15 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c98b0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:15 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:15 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:15 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:15 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:15 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:15 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:15 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:15 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:15 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:15 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:15 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:15 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:15 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:15 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420188d00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42018a6c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42018ab40)}}
debug: 2017/03/06 17:23:15 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:15 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42050e370), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:15 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:15 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:15 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:15 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:15 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:15 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:15 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:16 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:16 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:16 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:16 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:16 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:16 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:16 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42012b340), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201298c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420129d40)}}
debug: 2017/03/06 17:23:16 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:16 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420403c70), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:16 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:16 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:16 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:16 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:16 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:16 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:16 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:16 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:16 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:16 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:16 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:16 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:16 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:16 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201895c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42018b8c0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42018b440)}}
debug: 2017/03/06 17:23:16 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:16 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42050e6e0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:16 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:16 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:16 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:16 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:16 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:16 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:16 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:17 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:17 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:17 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:17 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:17 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:17 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:17 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420189820), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201810e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420181560)}}
debug: 2017/03/06 17:23:17 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:17 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c9c70), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:17 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:17 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:17 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:17 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:17 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:17 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:17 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:17 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:17 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:17 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:17 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:17 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:17 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:17 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204967a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4200da120), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4200dbe60)}}
debug: 2017/03/06 17:23:17 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:17 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c82d0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:17 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:17 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:17 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:17 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:17 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:17 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:17 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:18 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:18 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:18 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:18 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:18 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:18 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:18 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420498880), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ce240), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ce6c0)}}
debug: 2017/03/06 17:23:18 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:18 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a0230), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:18 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:18 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:18 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:18 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:18 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:18 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:18 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:18 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:18 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:18 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:18 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:18 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:18 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:18 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420497100), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42018a7e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42018ac60)}}
debug: 2017/03/06 17:23:18 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:18 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c8690), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:18 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:18 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:18 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:18 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:18 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:18 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:18 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:19 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:19 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:19 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:19 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:19 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:19 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:19 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420499140), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204cefc0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204cfd40)}}
debug: 2017/03/06 17:23:19 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:19 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a05a0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:19 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:19 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:19 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:19 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:19 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:19 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:19 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:19 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:19 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:19 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:19 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:19 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:19 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:19 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420497ac0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42018be60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42036a5a0)}}
debug: 2017/03/06 17:23:19 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:19 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c8a50), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:19 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:19 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:19 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:19 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:19 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:19 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:19 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:20 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:20 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:20 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:20 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:20 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:20 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:20 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204367c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008e240), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008e7e0)}}
debug: 2017/03/06 17:23:20 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:20 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047a230), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:20 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:20 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:20 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:20 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:20 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:20 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:20 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:20 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:20 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:20 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:20 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:20 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:20 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:20 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420410620), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42036aea0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42036b320)}}
debug: 2017/03/06 17:23:20 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:20 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c8eb0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:20 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:20 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:20 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:20 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:20 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:20 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:20 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:21 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:21 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:21 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:21 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:21 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:21 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:21 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204372e0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42008fb00), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420152000)}}
debug: 2017/03/06 17:23:21 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:21 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047a820), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:21 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:21 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:21 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:21 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:21 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:21 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:21 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:21 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:21 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:21 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:21 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:21 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:21 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:21 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420410ee0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420180120), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201805a0)}}
debug: 2017/03/06 17:23:21 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:21 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c91d0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:21 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:21 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:21 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:21 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:21 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:21 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:21 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:22 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:22 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:22 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:22 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:22 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:22 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:22 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420499a00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203fab40), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203fb9e0)}}
debug: 2017/03/06 17:23:22 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:22 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a0a00), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:22 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:22 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:22 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:22 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:22 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:22 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:22 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:22 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:22 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:22 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:22 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:22 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:22 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:22 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4204117a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420181c20), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420180ea0)}}
debug: 2017/03/06 17:23:22 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:22 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c9630), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:22 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:22 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:22 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:22 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:22 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:22 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:22 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:23 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:23 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:23 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:23 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:23 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:23 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:23 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42024a2c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420224360), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202247e0)}}
debug: 2017/03/06 17:23:23 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:23 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a0dc0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:23 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:23 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:23 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:23 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:23 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:23 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:23 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:23 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:23 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:23 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:23 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:23 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:23 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:23 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42024afc0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202250e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420225560)}}
debug: 2017/03/06 17:23:23 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:23 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a10e0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:23 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:23 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:23 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:23 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:23 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:23 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:23 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:24 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:24 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:24 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:24 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:24 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:24 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:24 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201c0080), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202a85a0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202a8a20)}}
debug: 2017/03/06 17:23:24 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:24 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c9950), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:24 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:24 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:24 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:24 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:24 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:24 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:24 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:24 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:24 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:24 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:24 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:24 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:24 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:24 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42024bec0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420334360), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420225e60)}}
debug: 2017/03/06 17:23:24 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:24 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a14a0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:24 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:24 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:24 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:24 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:24 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:24 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:24 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:25 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:25 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:25 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:25 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:25 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:25 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:25 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201c09c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202a9320), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202a97a0)}}
debug: 2017/03/06 17:23:25 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:25 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204c9e00), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:25 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:25 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:25 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:25 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:25 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:25 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:25 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:25 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:25 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:25 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:25 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:25 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:25 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:25 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42019f4c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420334c60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203350e0)}}
debug: 2017/03/06 17:23:25 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:25 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a1860), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:25 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:25 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:25 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:25 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:25 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:25 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:25 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:26 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:26 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:26 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:26 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:26 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:26 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:26 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201c13c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ec120), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ec5a0)}}
debug: 2017/03/06 17:23:26 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:26 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204348c0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:26 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:26 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:26 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:26 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:26 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:26 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:26 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:26 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:26 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:26 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:26 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:26 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:26 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:26 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc42019fe40), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203359e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420335e60)}}
debug: 2017/03/06 17:23:26 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:26 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204a1cc0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:26 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:26 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:26 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:26 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:26 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:26 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:26 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:27 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:27 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:27 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:27 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:27 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:27 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:27 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201c1d60), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ed320), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204ecea0)}}
debug: 2017/03/06 17:23:27 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:27 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420434d70), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:27 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:27 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:27 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:27 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:27 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:27 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:27 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:27 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:27 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:27 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:27 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:27 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:27 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:27 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420199560), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202567e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420256c60)}}
debug: 2017/03/06 17:23:27 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:27 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041a190), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:27 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:27 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:27 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:27 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:27 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:27 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:27 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:28 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:28 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:28 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:28 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:28 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:28 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:28 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4200d4f80), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4204edc20), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d2120)}}
debug: 2017/03/06 17:23:28 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:28 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435130), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:28 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:28 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:28 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:28 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:28 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:28 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:28 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:28 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:28 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:28 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:28 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:28 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:28 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:28 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420437c00), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420152c60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201530e0)}}
debug: 2017/03/06 17:23:28 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:28 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047ab40), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:28 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:28 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:28 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:28 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:28 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:28 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:28 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:29 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:29 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:29 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:29 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:29 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:29 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:29 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4200d5ac0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d2a20), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d2ea0)}}
debug: 2017/03/06 17:23:29 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:29 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204354f0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:29 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:29 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:29 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:29 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:29 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:29 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:29 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:29 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:29 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:29 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:29 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:29 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:29 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:29 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420304520), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420257560), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202579e0)}}
debug: 2017/03/06 17:23:29 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:29 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041ab40), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:29 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:29 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:29 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:29 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:29 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:29 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:29 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:30 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:30 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:30 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:30 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:30 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:30 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:30 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420160520), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201539e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420153e60)}}
debug: 2017/03/06 17:23:30 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:30 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047afa0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:30 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:30 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:30 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:30 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:30 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:30 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:30 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:30 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:30 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:30 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:30 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:30 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:30 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:30 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420304de0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201fe360), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201fe7e0)}}
debug: 2017/03/06 17:23:30 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:30 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041afa0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:30 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:30 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:30 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:30 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:30 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:30 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:30 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:31 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:31 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:31 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:31 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:31 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:31 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:31 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420160de0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42020e7e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42020ec60)}}
debug: 2017/03/06 17:23:31 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:31 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047b2c0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:31 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:31 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:31 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:31 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:31 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:31 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:31 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:31 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:31 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:31 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:31 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:31 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:31 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:31 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4203056a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201ff0e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201ff560)}}
debug: 2017/03/06 17:23:31 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:31 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"memory":"100", "ports":"1", "cpus":"30"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041b3b0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:31 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:31 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:31 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:31 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:31 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:31 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:31 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:32 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:32 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:32 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:32 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:32 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:32 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:32 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420188120), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201ffe60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420342360)}}
debug: 2017/03/06 17:23:32 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:32 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041b770), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:32 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:32 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:32 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:32 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:32 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:32 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:32 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:32 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:32 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:32 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:32 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:32 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:32 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:32 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201616a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42020f560), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42020f9e0)}}
debug: 2017/03/06 17:23:32 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:32 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42047b720), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:32 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:32 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:32 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:32 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:32 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:32 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:32 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:33 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:33 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:33 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:33 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:33 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:33 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:33 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201889e0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203430e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420342c60)}}
debug: 2017/03/06 17:23:33 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:33 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041bb80), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:33 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:33 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:33 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:33 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:33 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:33 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:33 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:33 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:33 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:33 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:33 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:33 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:33 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:33 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201b45e0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d37a0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4202d3c20)}}
debug: 2017/03/06 17:23:33 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:33 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435900), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:33 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:33 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:33 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:33 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:33 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:33 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:33 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:34 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:34 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:34 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:34 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:34 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:34 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:34 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420189360), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420343e60), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4203439e0)}}
debug: 2017/03/06 17:23:34 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:34 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42041bea0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:34 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:34 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:34 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:34 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:34 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:34 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:34 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:34 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:34 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:34 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:34 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:34 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:34 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:34 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201b4ea0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201b65a0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201b6a20)}}
debug: 2017/03/06 17:23:34 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:34 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420435d60), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:34 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:34 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:34 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:34 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:34 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:34 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:34 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:35 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:35 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:35 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:35 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:35 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:35 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:35 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201b56c0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201b7320), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201b77a0)}}
debug: 2017/03/06 17:23:35 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:35 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005c780), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:35 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:35 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:35 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:35 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:35 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:35 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:35 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:35 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:35 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:35 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:35 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:35 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:35 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:35 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420368020), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42004c7e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42004cc60)}}
debug: 2017/03/06 17:23:35 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:35 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc4204033b0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:35 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:35 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:35 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:30] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:35 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:35 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:35 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:35 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:36 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:36 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:36 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:36 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:36 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:36 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:36 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4201b5f80), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201705a0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420170120)}}
debug: 2017/03/06 17:23:36 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:36 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005cb40), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:36 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:36 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:36 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:36 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:36 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:36 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:36 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:36 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:36 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:36 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:36 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:36 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:36 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:36 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4203688e0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42004d9e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42004d560)}}
debug: 2017/03/06 17:23:36 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:36 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420403810), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:36 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:36 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:36 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:36 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:36 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:36 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:36 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:37 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:37 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:37 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:37 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:37 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:37 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:37 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420330840), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420170ea0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420171320)}}
debug: 2017/03/06 17:23:37 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:37 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"30", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005d770), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:37 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:37 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:37 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[ports:1 cpus:30 memory:100] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:37 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:37 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:37 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:37 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:37 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:37 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:37 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:37 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:37 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:37 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:37 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc4203691a0), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027e360), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027e7e0)}}
debug: 2017/03/06 17:23:37 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:37 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420403bd0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:37 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:37 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:37 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:37 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:37 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:37 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:37 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:38 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:38 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:38 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:38 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:38 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"30","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.24"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:38 httpclient.go:274: Read 2083 bytes, result: EOF
vomit: 2017/03/06 17:23:38 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420331100), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc420171c20), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc4201ea120)}}
debug: 2017/03/06 17:23:38 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:38 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"ports":"1", "cpus":"30", "memory":"100"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc42005dbd0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:24, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:38 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:38 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
debug: 2017/03/06 17:23:38 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.24 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[cpus:30 memory:100 ports:1] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:38 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:38 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:38 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveNotVersion
vomit: 2017/03/06 17:23:38 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveNotVersion
debug: 2017/03/06 17:23:38 httpclient.go:203: Sending GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:38 httpclient.go:279: Client -> GET "http://192.168.99.100:31696/status" <empty request body>
debug: 2017/03/06 17:23:38 httpclient.go:239: Received "GET http://192.168.99.100:31696/status" -> 200
vomit: 2017/03/06 17:23:38 httpclient.go:266: Client <- GET "http://192.168.99.100:31696/status"
vomit: 2017/03/06 17:23:38 httpclient.go:272: {"Deployments":[{"Resources":{"cpus":"9999999","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-demo","Version":"0.0.25"},"Flavor":"","Owners":{},"Kind":"http-service","Volumes":null,"RequestID":""},{"Resources":{"cpus":"0.1","memory":"100","ports":"1"},"Metadata":{},"Args":null,"Env":{"CLUSTER_NAME":"right","GDM_REPO":"ssh://root@192.168.99.100:2222/repos/gdm","SOUS_DOCKER_REGISTRY_HOST":"192.168.99.100:5000"},"NumInstances":1,"ClusterName":"right","Cluster":{"Name":"right","Kind":"singularity","BaseURL":"http://192.168.99.100:7099/singularity","Env":{"CLUSTER_NAME":"right"},"AllowedAdvisories":["ephemeral tag","ephemeral tag","source workspace lacked repo","no repository","requested revision not built","no versioned tag","tag mismatch","tag not on built revision","ephemeral tag","unpushed revision","bogus revision","dirty workspace"]},"SourceID":{"Location":"192.168.99.100/2222/repos/sous-server","Version":"0.0.2"},"Flavor":"","Owners":{"test@test.com":{}},"Kind":"http-service","Volumes":null,"RequestID":""}],"Completed":{"Phase":"finished","Log":[{"ManifestID":"192.168.99.100/2222/repos/sous-server","Cluster":"right","Desc":"unchanged","Error":null},{"ManifestID":"192.168.99.100/2222/repos/sous-demo","Cluster":"right","Desc":"coming","Error":null}],"Errs":{"Causes":[]}},"InProgress":{"Phase":"getting running deployments","Log":[],"Errs":{"Causes":[]}}}
vomit: 2017/03/06 17:23:38 httpclient.go:274: Read 1903 bytes, result: EOF
vomit: 2017/03/06 17:23:38 status_poller.go:377: Filtering &sous.Deployments{mu:(*sync.RWMutex)(0xc420369a40), m:map[sous.DeployID]*sous.Deployment{sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027f0e0), sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-server", Dir:""}, Flavor:""}, Cluster:"right"}:(*sous.Deployment)(0xc42027f560)}}
debug: 2017/03/06 17:23:38 status_poller.go:378: Filtering with "<cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>"
vomit: 2017/03/06 17:23:38 status_poller.go:384: Matching deployment: &sous.Deployment{DeployConfig:sous.DeployConfig{Resources:sous.Resources{"cpus":"9999999", "memory":"100", "ports":"1"}, Metadata:sous.Metadata{}, Args:[]string(nil), Env:sous.Env{"CLUSTER_NAME":"right"}, NumInstances:1, Volumes:sous.Volumes(nil)}, ClusterName:"right", Cluster:(*sous.Cluster)(0xc420403ef0), SourceID:sous.SourceID{Location:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Version:semv.Version{Major:0, Minor:0, Patch:25, Pre:"", Meta:"", DefaultFormat:"M.m.p"}}, Flavor:"", Owners:sous.OwnerSet{}, Kind:"http-service", Volumes:sous.Volumes(nil), Annotation:sous.Annotation{RequestID:""}}
vomit: 2017/03/06 17:23:38 status_poller.go:396: Matching intent for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*>: sous.DiffResolution{DeployID:sous.DeployID{ManifestID:sous.ManifestID{Source:sous.SourceLocation{Repo:"192.168.99.100/2222/repos/sous-demo", Dir:""}, Flavor:""}, Cluster:"right"}, Desc:"coming", Error:(*sous.ErrorWrapper)(nil)}
vomit: 2017/03/06 17:23:38 status_poller.go:400: No match for <cluster:* repo:192.168.99.100/2222/repos/sous-demo offset: flavor: tag:* revision:*> in 0 entries
debug: 2017/03/06 17:23:38 status_poller.go:307: http://192.168.99.100:31696 reports intent to resolve [192.168.99.100/2222/repos/sous-demo,0.0.25 @ &{right singularity http://192.168.99.100:7099/singularity map[CLUSTER_NAME:right] [ephemeral tag ephemeral tag source workspace lacked repo no repository requested revision not built no versioned tag tag mismatch tag not on built revision ephemeral tag unpushed revision bogus revision dirty workspace]} #1 map[memory:100 ports:1 cpus:9999999] : map[CLUSTER_NAME:right] []]
debug: 2017/03/06 17:23:38 status_poller.go:308: http://192.168.99.100:31696 reports stable rez: &{{192.168.99.100/2222/repos/sous-demo right} coming <nil>}
debug: 2017/03/06 17:23:38 status_poller.go:309: http://192.168.99.100:31696 reports in-progress rez: <nil>
debug: 2017/03/06 17:23:38 status_poller.go:231: http://192.168.99.100:31696 reports state: ResolveTasksStarting
vomit: 2017/03/06 17:23:38 status_poller.go:234: Current state from http://192.168.99.100:31696: ResolveTasksStarting

bash-3.2$ 
bash-3.2$ 